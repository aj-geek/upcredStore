(this.webpackJsonpupcred=this.webpackJsonpupcred||[]).push([[0],{227:function(e,t,c){},434:function(e,t){},435:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(32),a=c.n(n),s=c(18),o=c(81),i=c(212),u=c(213),d=c(47),l="PRODUCT_LIST_REQUEST",j="PRODUCT_LIST_SUCCESS",h="PRODUCT_LIST_FAIL",p="PRODUCT_ITEM_REQUEST",O="PRODUCT_ITEM_SUCCESS",b="PRODUCT_ITEM_FAIL",f=c(220),m="CART_ITEM_ADD",x="CART_ITEM_DELETE",v="USER_LOGIN_REQUEST",g="USER_LOGIN_SUCCESS",I="USER_LOGIN_FAIL",y="USER_LOGOUT",S="ORDER_CREATE",k=Object(o.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{loading:!0,products:[]};case j:return{loading:!1,products:t.payload};case h:return{error:t.payload};default:return e}},productItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)({loading:!0},e);case O:return{loading:!1,product:t.payload};case b:return{error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(d.a)(Object(d.a)({},e),{},{cartItems:[].concat(Object(f.a)(e.cartItems),[c])});case x:return Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case y:return{};case g:return{userInfo:t.payload};case I:return{error:t.payload};default:return e}},orderR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===S?{}:e}}),L={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},C=[u.a],E=Object(o.createStore)(k,L,Object(i.composeWithDevTools)(o.applyMiddleware.apply(void 0,C))),T=(c(227),c(33)),_=c(16),w=(c(228),c(445)),R=c(440),N=c(447),D=c(444),U=c(107),P=c(30),A=c.n(P),F=c(51),J=c(2);var M=function(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.b)();return Object(J.jsx)("header",{children:Object(J.jsx)(w.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(J.jsxs)(R.a,{children:[Object(J.jsx)(U.LinkContainer,{to:"/home",children:Object(J.jsx)(w.a.Brand,{children:"UpCred Store"})}),Object(J.jsx)(w.a.Collapse,{className:"justify-content-left",children:Object(J.jsxs)(N.a,{children:[Object(J.jsx)(U.LinkContainer,{to:"/cart",children:Object(J.jsx)(N.a.Link,{children:" Cart"})}),e?Object(J.jsx)(D.a,{title:"Welcome, user",children:Object(J.jsx)(D.a.Item,{onClick:function(){t((function(e){localStorage.removeItem("userInfo"),e({type:y})}))},children:"Logout"})}):Object(J.jsx)(U.LinkContainer,{to:"/login",children:Object(J.jsx)(N.a.Link,{children:" Login "})})]})})]})})})};var B=function(){return Object(J.jsx)("footer",{children:Object(J.jsx)(R.a,{className:"text-center py-3 ",children:"Developed with love"})})},G=c(441),Q=c(442),z=c(448);var W=function(e){var t=e.product;return Object(J.jsxs)(z.a,{className:"my-3 p-3 rounded",children:[Object(J.jsx)(T.Link,{to:"/product/".concat(t.id),children:Object(J.jsx)(z.a.Img,{src:t.image})}),Object(J.jsxs)(z.a.Body,{children:[Object(J.jsx)(T.Link,{to:"/product/".concat(t.id),children:Object(J.jsx)(z.a.Title,{as:"h2",children:Object(J.jsx)("strong",{className:"text-capitalize",children:t.name})})}),Object(J.jsx)(z.a.Text,{as:"h5",children:Object(J.jsxs)("div",{className:"my-3",children:["Price : \u20b9",t.price]})})]})]})},H=c(80),q=c.n(H);var K=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),c=t.loading,n=t.error,a=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(F.a)(A.a.mark((function e(t){var c,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l}),e.next=4,q.a.get("http://localhost:3006/products");case 4:c=e.sent,r=c.data,t({type:j,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:h,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(J.jsxs)("div",{children:[Object(J.jsx)("h1",{children:"Products"}),c?Object(J.jsx)("h2",{children:"Loading..."}):n?Object(J.jsx)("h3",{children:n}):Object(J.jsx)(G.a,{children:a.map((function(e){return Object(J.jsx)(Q.a,{sm:12,md:6,lg:4,xl:3,children:Object(J.jsx)(W,{product:e})},e.id)}))})]})},V=c(443),X=c(449),Y=c(219);var Z=function(e){var t=e.match,c=e.history,n=Object(s.b)(),a=Object(s.c)((function(e){return e.productItem})),o=a.loading,i=a.error,u=a.product;return Object(r.useEffect)((function(){var e;n((e=t.params._id,function(){var t=Object(F.a)(A.a.mark((function t(c){var r,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:p}),t.next=4,q.a.get("http://localhost:3006/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:O,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:b,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[n,t]),Object(J.jsxs)("div",{children:[Object(J.jsx)(T.Link,{to:"/home",children:"Home"}),o?Object(J.jsx)("h1",{children:"loading"}):i?{error:i}:Object(J.jsxs)(G.a,{children:[Object(J.jsx)(Q.a,{md:6,children:Object(J.jsx)(V.a,{src:u.image,alt:"",width:"500px",height:"500px",fluid:!0})}),Object(J.jsx)(Q.a,{md:6,children:Object(J.jsxs)(X.a,{variant:"flush",children:[Object(J.jsx)(X.a.Item,{children:Object(J.jsx)("h1",{className:"text-capitalize",children:u.name})}),Object(J.jsx)(X.a.Item,{children:Object(J.jsxs)("strong",{children:["Price: \u20b9",u.price]})}),Object(J.jsx)(X.a.Item,{children:Object(J.jsxs)(Y.a,{onClick:function(){c.push("/cart/".concat(t.params._id))},className:'btn-block type="button',children:[" ","Add to Cart"]})})]})})]})]})},$=c(446);var ee=function(e){var t=e.match,c=e.history,n=t.params._id,a=Object(s.b)(),o=Object(s.c)((function(e){return e.cart})).cartItems;Object(r.useEffect)((function(){var e;n&&a((e=n,function(){var t=Object(F.a)(A.a.mark((function t(c,r){var n,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get("http://localhost:3006/products/".concat(e));case 2:n=t.sent,a=n.data,c({type:m,payload:{product:a.id,name:a.name,price:a.price}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()))}),[a,n]);var i=function(e){var t;a((t=e,function(){var e=Object(F.a)(A.a.mark((function e(c,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:x,payload:t}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))};return Object(J.jsxs)(G.a,{children:[Object(J.jsxs)(Q.a,{md:8,children:[Object(J.jsx)("h1",{children:"Cart "}),0===o.length?Object(J.jsxs)($.a,{variant:"warning",children:["Please add items to the cart to proceed",Object(J.jsx)(T.Link,{to:"/home",children:" GO TO HOME"})]}):Object(J.jsx)(X.a,{variant:"flush",as:"h1",className:"text-capitalize",children:o.map((function(e){return Object(J.jsx)(X.a.Item,{children:Object(J.jsxs)(G.a,{children:[Object(J.jsx)(Q.a,{md:3,sm:2,children:Object(J.jsx)(T.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(J.jsxs)(Q.a,{md:2,sm:1,children:["\u20b9",e.price]}),Object(J.jsx)(Q.a,{md:1,sm:2,children:Object(J.jsx)(Y.a,{type:"button",variant:"info",onClick:function(){return i(e.product)},children:"Delete"})})]})})}))})]}),Object(J.jsx)(Q.a,{md:4,children:Object(J.jsxs)(X.a,{variant:"flush",children:[Object(J.jsxs)(X.a.Item,{children:[Object(J.jsx)("h2",{children:"Order Details"}),Object(J.jsxs)("h1",{children:["Total: \u20b9",o.reduce((function(e,t){return e+t.price}),0)]})]}),Object(J.jsx)(X.a.Item,{children:Object(J.jsx)(Y.a,{type:"button",className:"btn-block",disabled:0===o.length,onClick:function(){c.push("/login?redirect=checkOutDone")},children:"CheckOut"})})]})})]})},te=c(143),ce=c.n(te);var re=function(e){var t=e.location,c=e.history,n=Object(s.c)((function(e){return e.userLogin})).userInfo,a=t.search?t.search.split("=")[1]:"/home",o=Object(s.b)();Object(r.useEffect)((function(){console.log(n),n?c.push(a):i("SjeuaPkkKkh7mNh0S3QltG9i3ejWqwsB","dev-rsmyff-m.us.auth0.com")}),[c,n,a]);var i=function(e,t){var c=new ce.a(e,t);d(c)},u=function(e){var t;o((t=e,function(){var e=Object(F.a)(A.a.mark((function e(c,r){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:v}),c({type:g,payload:t}),localStorage.setItem("userInfo",JSON.stringify(r().userLogin.userInfo))}catch(n){c({type:I,payload:n.message})}case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))},d=function(e){e.show(),e.on("authenticated",(function(e){u(e.accessToken)}))};return Object(J.jsx)("div",{children:"Login"})};var ne=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){e((function(e){localStorage.removeItem("cartItems"),e({type:S})}))}),[e]),Object(J.jsx)("div",{children:Object(J.jsxs)($.a,{variant:"info",children:["Order Placed Successfully"," ",Object(J.jsx)($.a.Link,{children:Object(J.jsx)("button",{onClick:function(){return window.location.reload(!1)},children:"Done!"})})]})})};c(434);var ae=function(){return Object(J.jsxs)(T.BrowserRouter,{children:[Object(J.jsx)(M,{}),Object(J.jsx)("main",{children:Object(J.jsxs)(R.a,{className:"py-3",children:[Object(J.jsx)(_.d,{path:"/home",component:K}),Object(J.jsx)(_.d,{path:"/product/:_id",component:Z}),Object(J.jsx)(_.d,{path:"/cart/:_id?",component:ee}),Object(J.jsx)(_.d,{path:"/login",component:re}),Object(J.jsx)(_.d,{path:"/checkOutDone",component:ne})]})}),Object(J.jsx)(B,{})]})},se=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,450)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};a.a.render(Object(J.jsx)(s.a,{store:E,children:Object(J.jsx)(ae,{})}),document.getElementById("root")),se()}},[[435,1,2]]]);
//# sourceMappingURL=main.f90e58c4.chunk.js.map